# 华为企业邮箱授权码设置说明

## 🔑 为什么需要授权码？

华为企业邮箱出于安全考虑，不允许直接使用登录密码发送邮件，需要使用专门的授权码。

## 📋 获取华为企业邮箱授权码步骤

### 1. 登录华为企业邮箱
- 打开华为企业邮箱登录页面
- 使用您的企业邮箱账号登录

### 2. 开启SMTP服务
1. 登录后点击右上角设置图标
2. 选择"邮箱设置"
3. 找到"客户端设置"或"POP3/IMAP/SMTP设置"
4. 开启"SMTP服务"

### 3. 生成授权码
1. 在SMTP设置页面，点击"生成授权码"
2. 系统会要求验证身份（可能需要手机验证码或企业微信验证）
3. 验证成功后，会生成一个授权码
4. **请保存这个授权码，它只会显示一次！**

### 4. 更新配置文件
将生成的授权码替换 `config.js` 文件中的配置：

```javascript
email: {
    host: 'smtp.huawei.com', // 华为企业邮箱SMTP服务器
    port: 465,
    secure: true, // 使用SSL
    auth: {
        user: 'your-email@your-domain.com', // 您的华为企业邮箱地址
        pass: '您的授权码' // 替换这里
    }
}
```

## ⚠️ 注意事项

- 授权码不是登录密码
- 授权码只显示一次，请务必保存
- 如果忘记授权码，可以重新生成
- 华为企业邮箱的SMTP服务器地址通常是 `smtp.huawei.com`
- 端口通常是 465（SSL）或 587（TLS）

## 🔧 测试邮件发送

配置完成后：
1. 重启服务器：`node server.js`
2. 访问测试页面：http://localhost:3000/test
3. 发送测试邮件验证功能

## 📞 常见问题

**Q: 为什么显示"535 Login fail"？**
A: 这是因为使用了登录密码而不是授权码，请按照上述步骤获取授权码。

**Q: 找不到SMTP设置选项？**
A: 请联系您的企业邮箱管理员，确认是否开启了SMTP服务权限。

**Q: 授权码忘记了怎么办？**
A: 可以重新生成授权码，旧的授权码会自动失效。

**Q: 开启SMTP服务失败？**
A: 可能需要管理员权限，请联系企业邮箱管理员。
